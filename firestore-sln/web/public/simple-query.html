<!DOCTYPE html>
<html>

<head>

  <title>Demo Firebase Firestore</title>

  <!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

  <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-app.js"></script>

  <!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
  <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-analytics.js"></script>

  <!-- Add Firebase products that you want to use -->
  <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.8.2/firebase-firestore.js"></script>



  <style>
    .list-button button {
      display: block;
      margin: 5px;
    }
  </style>
</head>

<body>

  
  <script>
    // TODO: Replace the following with your app's Firebase project configuration
    var firebaseConfig = {
      apiKey: "AIzaSyCdwwG2ElQ4p29rWx9egvAi22l-Ryg-CHc",
      authDomain: "fir-firebase-62c88.firebaseapp.com",
      projectId: "fir-firebase-62c88"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    test_query_on_field_string_number = function(){
        const db = firebase.firestore();

        // Create a query against the collection
        let query1 = db.collection('data').where('number_as_int', '==', '1').get().then(
            (snapshot)=>{
                if (snapshot.empty) {
                    console.log('number_as_int == "1", No matching documents.');
                    return;
                }

                snapshot.forEach(doc => {
                    console.log('number_as_int == "1" ', doc.id);
                });
            }
        );
        let query2 = db.collection('data').where('number_as_int', '==', 1).get().then(
            (snapshot)=>{
                if (snapshot.empty) {
                    console.log('number_as_int == 1, No matching documents.');
                    return;
                }

                snapshot.forEach(doc => {
                    console.log('number_as_int == 1, ', doc.id);
                });
            }
        );


    }

  </script>
  
  <div class="list-button">
    <button onclick="test_query_on_field_string_number()">Compare query a field as string vs number</button>
    
  </div>
</body>
</html>